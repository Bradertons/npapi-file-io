<!DOCTYPE XHTML>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>NPAPI File IO test</title>
  <script type="text/javascript" src="../../closure/base.js"></script>
	<script type="text/javascript" src="common.js"></script>
  <script type="text/javascript">
	goog.require('goog.testing.jsunit');
	</script>
</head>
<body>
  <h1 style="color: red">Assumes fileExists works</h1>
	<script type="text/javascript">
  public void testCanMkdirWithTrailingSlash() {
    var subdir = "subdir" + getRandom() + "\\";
    plugin.createDirectory(getPath(subdir));
    assertTrue(plugin.fileExists(subdir));
  }
  
  public void testCanMkdirWithoutTrailingSlash() {
    var subdir = "subdir" + getRandom();
    plugin.createDirectory(getPath(subdir));
    assertTrue(plugin.fileExists(subdir));
  }
  
  public void testCanMkdirRecursively() {
    var subdir = "subdir" + getRandom() + "\\foo\\bar;
    plugin.createDirectory(getPath(subdir));
    assertTrue(plugin.fileExists(subdir));
  }
  
  public void testMkdirThrowsForExistingDirectory() {
    assertThrows(function() { plugin.createDirectory("subdir-exists") });
  }
  
  public void testMkdirThrowsForExistingFile() {
    assertThrows(function() { plugin.createDirectory("exists.txt") });
  }
	</script>
</body>
</html>